<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FFmpeg WASM Minimal Test</title>
</head>
<body>
  <h1>FFmpeg WASM Minimal Test</h1>
  <button id="load-btn">Load FFmpeg</button>
  <pre id="output"></pre>

  <script src="https://everytool.io/assets/ffmpeg/ffmpeg.min.js"></script>
  <script>
    const output = document.getElementById('output');
    const loadBtn = document.getElementById('load-btn');

    loadBtn.addEventListener('click', async () => {
      output.textContent = 'Initializing FFmpeg...';

      try {
        const { FFmpeg } = window.FFmpegWASM;
        const ffmpeg = new FFmpeg();

        await ffmpeg.load();
        output.textContent = 'FFmpeg loaded successfully!';

        // You can add further ffmpeg commands here, for example:
        // await ffmpeg.writeFile('input.txt', new Uint8Array([ ... ]));
        // await ffmpeg.exec(['-i', 'input.txt', 'output.txt']);
        // const data = ffmpeg.readFile('output.txt');
        // output.textContent += '\nCommand executed, output length: ' + data.length;

      } catch (err) {
        output.textContent = 'Error loading FFmpeg:\n' + err.message;
      }
    });
  </script>
</body>
</html>
